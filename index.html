<html>

<head>
    <title>
        BOSM 2016 | GRIT GUT GLORY | BITS Pilani
    </title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/flipclock.css">
    <link rel="shortcut icon" href="./img/favicon.ico" /> 
    <script type="text/javascript" src="./js/phaser.min.js"></script>
    <script type="text/javascript" src="./js/jquery.min.js"></script>
    <script type="text/javascript" src="./js/flipclock.min.js"></script>
</head>

<body>
    <div id="pageWrap">
        <div id="header">
           
            <div id="countdown">
                <div id="clockWrap">
                    <div id="clock"></div>
                </div>
            </div>
            <div id="nav">
                <div id="about">
                    <p>ABOUT US</p>
                </div>
                <div id="contact">
                    <p>CONTACT</p>
                </div>
                <div id="sponsors">
                    <p>SPONSORS</p>
                </div>
            </div>
            
        </div>


        <div id="logoWrap">
            <img id="logo" src="./img/logo.png" alt="">
        </div>

        <img id="balloon" src="./img/balloon.svg" alt="">
        <div id="game">
        </div> 
        <div id="bottomCover">
              <iframe id="fblike"src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Fbosmbitspilani&amp;
            width=200&amp;layout=button_count&amp;action=like&amp;show_faces=false&amp;share=false&amp;
            height=21" scrolling="no" frameborder="0" id="fblike"     allowTransparency="true"></iframe>

        </div>
        <img id="sun" src="./img/sun.svg" alt="">
      
    </div>




    <div id="contentWrap">
        <div class="back"></div>
        <div class="centerDiv">
            <div class="close">X</div>
            <div id="headWrap">
                <div id="headTitle">
                    
                </div>
            </div>
            <div class="textArea">
                <div class="textWrap">
                </div>
            </div>
        </div>
    </div>
    <!-- <img id="timer" src="./img/timer.svg" alt=""> -->
    <script>
        var sun=document.getElementById('sun');
        // $("#contentWrap").hide();
        $("#about").click(function() {
            $("#headTitle").html("ABOUT US");
            $(".textWrap").html(' <h4 style="text-align:center;">"Courage is not the absence of fear. It is being afraid but being able to control that fear so that you are able to perform at your highest ability. That\'s what makes a champion."</h4> Because champions rise, champions fall, rise again, win it all. It is not about winning, it is about taking part and becoming your own potential.<br><br>The BITS Open Sports Meet, or BOSM, as all know it, is one of the largest student managed Sports fests of the country.<br>The four-day festival encompasses everything about sports.<br><br>Aimed at providing a platform to colleges from all over India to showcase their talents, promoting healthy competition, it gives attendees an opportunity to take part in a variety of sports and events.<br><br>With the last year\'s edition witnessing phenomenal participation from colleges both from India and abroad, the 31st edition guarantees excitement well supplemented by floodlit matches in the evening and the unbridled enthusiasm of the crowds for highly competitive track and off-track events, in the true spirit of sportsmanship and camaraderie.<br><br> 15th September - 19th September. BOSM 2016.<br><br>Come, battle it out, with grit and guts, in pursuit of glory.');
            $("#contentWrap").addClass('visible');
            $("#pageWrap").addClass('blur');
            $("#contentWrap .centerDiv").animate({
                top: '52%'
            }, 500);
        });

        $("#contact").click(function() {
            $("#headTitle").html("CONTACT");

            $("#contentWrap").addClass('visible');
            $(".textWrap").html('<ul class="subcategory"><li><b>For Correspondence and Registration</b><br>Karthik Maddipoti<br>+91-8094040555<br>pcr@bits-bosm.org</li><li><b>Sports Secretary</b><br>Zalak Shah<br>+91-8239823200<br>sportssecretary@bits-bosm.org</li></ul><ul class="subcategory"><li><b>For Scheduling and Events</b><br>Viraj Gandotra<br>+91-7728834719 <br>controls@bits-bosm.org</li><li><b>Joint Sports Secretary</b><br>Aditya Joshi<br>+91-9783099689<br>joshi@bits-bosm.org</li></ul><ul class="subcategory"><li><b>For Reception and Accommodation:</b><br>Shonhit Trehan<br>+91-8503855851<br>recnacc@bits-bosm.org</li><li><b>Joint Sports Secretary</b><br>Rushil Handa<br>+91-8107134586<br>rushil@bits-bosm.org </li></ul><ul class="subcategory"><li><b>For Sponsorship and Marketing</b><br>Arnav Anand<br>+91-9929014797<br>sponsorship@bits-bosm.org</li><li><b>Joint Sports Secretary</b><br>Malvika Paliwal<br>+91-7737801664<br>malvika@bits-bosm.org</li></ul><ul class="subcategory"><li><b>For Website Related Queries</b><br>webmaster@bits-bosm.org</li></ul>');
            $("#pageWrap").addClass('blur');
            $("#contentWrap .centerDiv").animate({
                top: '52%'
            }, 500);
        });



        $("#sponsors").click(function() {
            $("#headTitle").html("SPONSORS");

            $("#contentWrap").addClass('visible');
            $(".textWrap").html('<br><h4><a href="./BOSM Brochure-2016.pdf" target="_blank">Click to view Brochure of BOSM 2016</a></h4><br><a href="./BOSM Brochure-2016.pdf#page=23" target="_blank">Click to view Previous Sponsors</a>');
            $("#pageWrap").addClass('blur');
            $("#contentWrap .centerDiv").animate({
                top: '52%'
            }, 500);
        });
        $(".close,.back").click(function() {

            $(".centerDiv").animate({
                top: '50%',
            }, 500);
            setTimeout(function() {
                $("#contentWrap").removeClass('visible');
            }, 500);
            $("#pageWrap").removeClass('blur');

        })
    </script>

    <script>
        /*---------------GAME------------------*/
        var over;
        var game = new Phaser.Game(window.innerWidth, 450, Phaser.AUTO, 'game', {
            preload: preload,
            create: create,
            update: update
        });

        
        // setInterval(function () {
        //     console.clear();
        // },500);


        function preload() {

            game.load.image('ground', './img/ground.svg');
            game.load.image('shuttleMountain', './img/shuttle_mountain.png');

            game.load.image('coconutBuilding', './img/coconut_building.svg');
            game.load.image('bottleBuilding', './img/bottle_building.svg');
            game.load.image('mineralBuilding', './img/mineral_building2.svg');
            game.load.image('tree1', './img/tree1.svg');
            game.load.image('tree2', './img/tree2.svg');
            game.load.image('mushroom', './img/mushroom.svg');
            game.load.image('clouds', './img/clouds.svg');
            game.load.image('waterBuilding', './img/water_building.svg');
            // game.load.image('sky', './img/sky.svg');

            game.load.image('hurdleImg', './img/hurdle.svg');
            // game.load.spritesheet('dude', 'assets/dude.png', 32, 48);*/
            game.load.spritesheet('dude', './img/imgseq.png', 174, 304);
        }

        var platforms;
        var graphics, groundELem, graphics1, graphics2;
        var cursors;
        var player;
        var man;
        var ground;
        var hudrles;
        var score = 0;
        var scoreText;
        var hurdle;
        var shuttleMountain, waterBuilding, coconutBuilding, bottleBuilding, mineralBuilding, clouds;
        var tree2, tree1, mushroom;
        var gameStart=false,gameReset=false;
        

        function create() {

            game.stage.backgroundColor = '#8ECDD2;';
            //  We're going to be using physics, so enable the Arcade Physics system
            game.physics.startSystem(Phaser.Physics.ARCADE);

            //  A simple background for our game
            // game.add.sprite(0, 0, 'sky');


            graphics2 = game.add.group();
            graphics2.enableBody = true;


            graphics1 = game.add.group();
            graphics1.enableBody = true;


            if(window.innerWidth>940){

            waterBuilding = graphics2.create(300, 80, 'waterBuilding');
            waterBuilding.scale.setTo(0.5, 0.5);
        }
            

            mineralBuilding = graphics2.create(1000, 125, 'mineralBuilding');
            mineralBuilding.scale.setTo(0.65,0.65);
            if(window.innerWidth>560){
            shuttleMountain = graphics1.create(80, 160, 'shuttleMountain');
            shuttleMountain.scale.setTo(0.1, 0.1);
}            coconutBuilding = graphics1.create(550, 120, 'coconutBuilding');
            coconutBuilding.scale.setTo(0.8, 0.8);
            bottleBuilding = graphics1.create(800, 22, 'bottleBuilding');
            bottleBuilding.scale.setTo(0.65,0.65);




            //  The platforms group contains the ground and the 2 ledges we can jump on
            platforms = game.add.group();

            //  We will enable physics for any object that is created in this group
            platforms.enableBody = true;
50
            // Here we create the ground.

            // waterBuilding= game.add.sprite()
            ground = platforms.create(-40, game.world.height - 230, 'ground');


            //  Scale it to fit the width of the game (the original sprite is 400x32 in size)
            ground.scale.setTo(1.2, 0.7);

            //  This stops it from falling away when you jump on it
            ground.body.immovable = true;

            groundELem = game.add.group();
            groundELem.enableBody = true;
                clouds = groundELem.create(0, 10, 'clouds');
            clouds.scale.setTo(0.6, 0.6);
            clouds.enableBody = true;
            tree1 = groundELem.create(750, game.world.height - 240, 'tree1');
            tree1.scale.setTo(0.4, 0.4);
            tree1.enableBody = true;
            tree2 = groundELem.create(220, game.world.height - 210, 'tree2');
            tree2.scale.setTo(0.27, 0.27);
            tree2.enableBody = true;
            mushroom = groundELem.create(150, game.world.height - 170, 'mushroom');
            mushroom.scale.setTo(0.4, 0.4);
            mushroom.enableBody = true;

            
            

            hurdles = game.add.group();
            hurdles.enableBody = true;

            // hurdle = hurdles.create(game.world.width, game.world.height - 130, 'hurdleImg');
            
            // hurdle.body.collideWorldBounds=true;

            if(window.innerWidth<400){
                 hurdle = hurdles.create(game.world.width, game.world.height - 85, 'hurdleImg');
            hurdle.scale.setTo(0.6,0.6);
            }
            else{
                 hurdle = hurdles.create(game.world.width, game.world.height - 130, 'hurdleImg');
            }
            hurdle.enableBody = true;
            setInterval(function() {

               if(window.innerWidth<400){
                 hurdle = hurdles.create(game.world.width+game.world.randomX, game.world.height - 85, 'hurdleImg');
            hurdle.scale.setTo(0.6,0.6);
            }
            else{
                 hurdle = hurdles.create(game.world.width+game.world.randomX, game.world.height - 130, 'hurdleImg');
                 console.log(hurdle.body.x);
            }
                
                hurdle.enableBody = true;
                // hurdle.body.collideWorldBounds=true;
                // hurdle.scale.setTo(0.2,0.2);
            }, 3000);


            setInterval(function() {
                clouds = groundELem.create(0 - game.world.randomX, 10 * (1 + Math.random()), 'clouds');
                clouds.scale.setTo(0.6, 0.6);

                tree1 = groundELem.create(game.world.width + game.world.randomX, game.world.height - 240, 'tree1');
                tree1.scale.setTo(0.4, 0.4);
                tree2 = groundELem.create(game.world.width + game.world.randomX, game.world.height - 210, 'tree2');
                tree2.scale.setTo(0.27, 0.27);
                mushroom = groundELem.create(game.world.width + game.world.randomX, game.world.height - 170, 'mushroom');
                mushroom.scale.setTo(0.4, 0.4);
            }, 8000);
            
            player = game.add.sprite(0.18*window.innerWidth, 150, 'dude');
            if(window.innerWidth<400){
            
            player.scale.setTo(0.4, 0.4);
            }
            else
                player.scale.setTo(0.6,0.6);
            game.physics.arcade.enable(player);
            player.body.bounce.y = 0.2;
            player.body.gravity.y = 1000;
            player.body.collideWorldBounds = true;

            player.animations.add('walk', [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], 10, true);
            // player.animations.play('walk');

            if(window.innerWidth<575)
            scoreText = game.add.text(50, 220, 'Score: 0', {
                fontSize: '32px',
                fill: '#fff'
            });
        else
            scoreText = game.add.text(100, 125, 'Score: 0', {
                font: '22px League-Spartan',
                fill: '#fff'
            });
             // scoreText.body.collideWorldBounds=true;

            //  Our controls.
             cursors = game.input.keyboard.createCursorKeys();

        }
        var u=0,s;
        function update() {
            player.body.velocity.x = 0;
            if(cursors.space.isDown || game.input.activePointer.isDown)
                gameStart=true;
            // player.hitArea=-1;
            //motion after completion of a particular function
            // shuttleMountain.body.velocity.x = -10;
            // coconutBuilding.body.velocity.x = -10;
            // bottleBuilding.body.velocity.x = -10;
            // waterBuilding.body.velocity.x = -4;
            // mineralBuilding.body.velocity.x = -4;
            /*
            mineralBuilding.body.velocity.x=-20;
            waterBuilding.body.velocity.x=-20;*/
            // graphics2.body.velocity.x=-2;
            // // console.log(Math.floor(game.time.totalElapsedSeconds()));
            // score = Math.floor(game.time.totalElapsedSeconds())
            if(gameStart){

            u++;
            if(u%100==0)
                score++;
            scoreText.text = 'Score: ' + score;
            tree1.body.velocity.x = -40;
            tree2.body.velocity.x = -50;
            mushroom.body.velocity.x = -70;
            if(window.innerWidth<560)
                s=0.5;
            else
                s=1;
            hurdle.body.velocity.x = -s*(350 + (80 * Math.floor(score / 10)));
            clouds.body.velocity.x = 30;

            // //  Collide the player and the stars with the platforms
             // game.physics.arcade.collide(player, scoreText);
            player.animations.play('walk');
             if (cursors.left.isDown) {
                //  Move to the left
                if(window.innerWidth<400)
                player.body.velocity.x = -150;    
                    else
                player.body.velocity.x = -250;


            } else if (cursors.right.isDown && player.body.x<(0.65*window.innerWidth)) {
                //  Move to the right
                if(window.innerWidth<400)
                    player.body.velocity.x = 250;
                    else
                player.body.velocity.x = 250;


            } 

            // console.log(cursors.up.isDown ,player.body.y,game.world.height);
            //  Allow the player to jump if they are touching the ground.
            if ((cursors.up.isDown || cursors.space.isDown || game.input.activePointer.isDown) && player.body.y > 250) {
                if(window.innerWidth<400)
                player.body.velocity.y = -400;
                else
                player.body.velocity.y = -700;
            }

        }

            game.physics.arcade.overlap(player, hurdles, collision, null, this);
            //  Reset the players velocity (movement)
            

            // game.physics.arcade.collide(player, hurdles);

           
            // console.log(player.body.y);
            function collision(player, hurdle) {

                    hurdles.destroy();
                 game.state.start("Over"); 
                player.body.velocity.x = 0;
                hurdle.body.velocity.x = 0;
                // hurdles.body.velocity.x = 0;
                clouds.body.velocity.x = 100;
                // score += 10;

            }

        }
        //game animation translate down up
        //game reset
        //game overlap
        // console.log($("#game").children().children());

        over= function(game) {};
        over.prototype = {
     create: function() {
        console.log("hi");
        gameReset=true;
         label = game.add.text(window.innerWidth / 2, window.innerHeight / 2, 'Score: ' + score + '\nGAME OVER\nPress SPACE to restart', {
             font: '22px League-Spartan',
             fill: '#fff',
             align: 'center'
         });
         label.anchor.setTo(0.5, 0.5);
     },
     update: function() {

         score = 0;
         if (cursors.space.isDown || game.input.activePointer.isDown) game.state.start('default');
     }
 };

 game.state.add("Over",over);
       
    </script>
    <!-- <script src="./js/timer.js"></script> -->
    <script>
        var clock;

            $(document).ready(function() {

                // Grab the current date
                var currentDate = new Date();

                // Set some date in the future. In this case, it's always Jan 1
                var futureDate  = new Date(2016,8,15);

                // Calculate the difference in seconds between the future and current date
                var diff = futureDate.getTime() / 1000 - currentDate.getTime() / 1000;

                // Instantiate a coutdown FlipClock
                clock = $('#clock').FlipClock(diff, {
                    clockFace: 'DailyCounter',
                    countdown: true
                });
            });
    </script>
</body>

</html>